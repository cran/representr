<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Andee Kaplan and Rebecca C. Steorts" />

<meta name="date" content="2026-01-29" />

<title>Prototyping with representr</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">

div.csl-bib-body { }
div.csl-entry {
clear: both;
}
.hanging div.csl-entry {
margin-left:2em;
text-indent:-2em;
}
div.csl-left-margin {
min-width:2em;
float:left;
}
div.csl-right-inline {
margin-left:2em;
padding-left:1em;
}
div.csl-indent {
margin-left: 2em;
}
</style>

<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Prototyping with
<code>representr</code></h1>
<h4 class="author">Andee Kaplan and Rebecca C. Steorts</h4>
<h4 class="date">2026-01-29</h4>



<div id="background-and-motivating-example" class="section level1">
<h1>Background and Motivating Example</h1>
<p>Record linkage (entity resolution or de-duplication) is used to join
multiple databases to remove duplicate entities. While record linkage
removes the duplicate entities from the data, many researchers are
interested in performing inference, prediction, or post-linkage analysis
on the linked data (e.g., regression or capture-recapture), which we
call the <em>downstream task</em>. Depending on the downstream task, one
may wish to find the most representative record before performing the
post-linkage analysis. For example, when the values of features used in
a downstream task differ for linked data, which values should be used?
This is where <code>representr</code> comes in. Before introducing our
new package <code>representr</code> from the paper <span class="citation">Kaplan, Betancourt, and Steorts (n.d.)</span>, we first
provide an introduction to record linkage.</p>
<p>Throughout this vignette, we will use data that is available in the
<code>representr</code> package, <code>rl_reg1</code> (rl = record
linkage, reg = regression, 1 = amount of noisiness).</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># load library</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(representr)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="co"># load data</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;rl_reg1&quot;</span>) <span class="co"># data for record linkage and regression</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;identity.rl_reg1&quot;</span>) <span class="co"># true identity of each record</span></span></code></pre></div>
<table style="width:100%;">
<colgroup>
<col width="10%" />
<col width="15%" />
<col width="3%" />
<col width="3%" />
<col width="6%" />
<col width="4%" />
<col width="41%" />
<col width="8%" />
<col width="4%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">fname</th>
<th align="left">lname</th>
<th align="right">bm</th>
<th align="right">bd</th>
<th align="right">by</th>
<th align="left">sex</th>
<th align="left">education</th>
<th align="right">income</th>
<th align="right">bp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">jasmine</td>
<td align="left">sirotic</td>
<td align="right">3</td>
<td align="right">31</td>
<td align="right">1972</td>
<td align="left">F</td>
<td align="left">High school graduates, no college</td>
<td align="right">32</td>
<td align="right">127</td>
</tr>
<tr class="even">
<td align="left">hugo</td>
<td align="left">white</td>
<td align="right">6</td>
<td align="right">9</td>
<td align="right">1958</td>
<td align="left">M</td>
<td align="left">Bachelor’s degree only</td>
<td align="right">72</td>
<td align="right">134</td>
</tr>
<tr class="odd">
<td align="left">madeline</td>
<td align="left">burgemeifter</td>
<td align="right">12</td>
<td align="right">9</td>
<td align="right">1967</td>
<td align="left">F</td>
<td align="left">Some college or associate degree</td>
<td align="right">30</td>
<td align="right">130</td>
</tr>
<tr class="even">
<td align="left">kyle</td>
<td align="left">clarke</td>
<td align="right">4</td>
<td align="right">9</td>
<td align="right">1952</td>
<td align="left">M</td>
<td align="left">Advanced degree</td>
<td align="right">90</td>
<td align="right">125</td>
</tr>
<tr class="odd">
<td align="left">livia</td>
<td align="left">braciak</td>
<td align="right">11</td>
<td align="right">6</td>
<td align="right">1950</td>
<td align="left">F</td>
<td align="left">High school graduates, no college</td>
<td align="right">27</td>
<td align="right">134</td>
</tr>
<tr class="even">
<td align="left">phoebe</td>
<td align="left">green</td>
<td align="right">8</td>
<td align="right">8</td>
<td align="right">1957</td>
<td align="left">F</td>
<td align="left">High school graduates, no college</td>
<td align="right">32</td>
<td align="right">128</td>
</tr>
</tbody>
</table>
<p>This is simulated data, which consists of 500 records with 30%
duplication and the following attributes:</p>
<ul>
<li><code>fname</code>: First name</li>
<li><code>lname</code>: Last name</li>
<li><code>bm</code>: Birth month (numeric)</li>
<li><code>bd</code>: Birth day</li>
<li><code>by</code>: Birth year</li>
<li><code>sex</code>: Sex (“M” or “F”)</li>
<li><code>education</code>: Education level (“Less than a high school
diploma”, ““High school graduates, no college”, “Some college or
associate degree”, “Bachelor’s degree only”, or “Advanced degree”)</li>
<li><code>income</code>: Yearly income (in $1000s)</li>
<li><code>bp</code>: Systolic blood pressure</li>
</ul>
<div id="record-linkage" class="section level2">
<h2>Record linkage</h2>
<p>Before we perform prototyping to get a representative data set using
<code>representr</code>, we must first perform record linkage to remove
duplication in the data set. In the absence of unique identifier (such
as a social security number), we can use probabilistic methods to
perform record linkage. We recommend the use of clustering records to a
latent entity, known in the literature as graphical entity resolution.
See <span class="citation">(Binette and Steorts, n.d.)</span> for a
review.</p>
<!-- For the examples in this vignette, we will use `blink` [@blink],a Bayesian record linkage model [@steorts2015entity]. For this example, we will run only a small number of iterations, which will certainly not have converged. For a faster (more scalable version of this), we recommend recent work of [@marchant2020d] using either dblink or dblinkR.  -->
<!-- For a real example, we would want to let this model run longer. -->
<!-- ```{r rl, results='hide'} -->
<!-- # load blink -->
<!-- library(blink) -->
<!-- # params for running record linkage -->
<!-- a <- 1; b <- 99 # distortion hyperparams -->
<!-- c <- 1 # string density hyperparams -->
<!-- num.gs <- 10 # number of iterations -->
<!-- M <- nrow(rl_reg1) # upper bound on number of entities -->
<!-- str_idx <- c(1, 2) # string columns -->
<!-- cat_idx <- c(3, 4, 5) # categorical columns -->
<!-- # data prep  -->
<!-- # X.c contains the categorical variables -->
<!-- # X.s contains the string variables  -->
<!-- X.c <- apply(as.matrix(rl_reg1[, cat_idx]), 2, as.character) -->
<!-- X.s <- as.matrix(rl_reg1[, str_idx]) -->
<!-- # X.c and X.s include all files "stacked" on top of each other. -->
<!-- # The vector below keeps track of which rows of X.c and X.s are in which files. -->
<!-- file.num <- rep(1, nrow(rl_reg1)) -->
<!-- # perform record linkage   -->
<!-- linkage.rl <- rl.gibbs(file.num, X.s, X.c, num.gs=num.gs, a=a, b=b, c=c, d=utils::adist, M=M) -->
<!-- ``` -->
<!-- ```{r delete-blink-res, echo=FALSE, results="hide"} -->
<!-- file.remove(dir(path = ".", pattern="lambda*") ) -->
<!-- ``` -->
<p>For the examples in this vignette, we have fit the model in recent
work of <span class="citation">(N. G. Marchant et al. 2020)</span> using
<code>dblinkR</code> <span class="citation">(N. Marchant 2021)</span>.
Please see associated vignette for details on using
<code>dblinkR</code>. We load the results of running this record linkage
model for <span class="math inline">\(100,000\)</span> iterations, which
have been stored in the package as a data object called
<code>linkage.rl</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;linkage.rl&quot;</span>)</span></code></pre></div>
</div>
<div id="the-downstream-task" class="section level2">
<h2>The Downstream Task</h2>
<p>After record linkage is complete, one may want to perform analyses of
the linked data. This is what we call the “downstream task”. As
motivation, consider modeling blood pressure (bp) using the following
two features (covariates): income and sex in our example data
<code>rl_reg1</code>. We want to fit this model after performing record
linkage using the following features: first and last name and full data
of birth. Here is an example of four records that represent the same
individual (based on the results from record linkage) using data that is
in the <code>representr</code> package.</p>
<table>
<colgroup>
<col width="5%" />
<col width="9%" />
<col width="7%" />
<col width="3%" />
<col width="3%" />
<col width="6%" />
<col width="5%" />
<col width="44%" />
<col width="9%" />
<col width="5%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">fname</th>
<th align="left">lname</th>
<th align="right">bm</th>
<th align="right">bd</th>
<th align="right">by</th>
<th align="left">sex</th>
<th align="left">education</th>
<th align="right">income</th>
<th align="right">bp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">370</td>
<td align="left">elenys</td>
<td align="left">reit</td>
<td align="right">11</td>
<td align="right">11</td>
<td align="right">1954</td>
<td align="left">F</td>
<td align="left">High school graduates, no college</td>
<td align="right">28</td>
<td align="right">109</td>
</tr>
<tr class="even">
<td align="left">371</td>
<td align="left">elen7</td>
<td align="left">reicl</td>
<td align="right">11</td>
<td align="right">22</td>
<td align="right">1954</td>
<td align="left">F</td>
<td align="left">Advanced degree</td>
<td align="right">52</td>
<td align="right">118</td>
</tr>
<tr class="odd">
<td align="left">372</td>
<td align="left">dleny</td>
<td align="left">rejd</td>
<td align="right">11</td>
<td align="right">11</td>
<td align="right">1954</td>
<td align="left">M</td>
<td align="left">Bachelor’s degree only</td>
<td align="right">63</td>
<td align="right">109</td>
</tr>
<tr class="even">
<td align="left">373</td>
<td align="left">eleni</td>
<td align="left">reid</td>
<td align="right">11</td>
<td align="right">11</td>
<td align="right">1954</td>
<td align="left">F</td>
<td align="left">Bachelor’s degree only</td>
<td align="right">52</td>
<td align="right">109</td>
</tr>
</tbody>
</table>
<p>Examination of this table raises important questions that need to be
addressed before performing a particular downstream task, such as which
values of bp, income, and sex should be used as the representative
features (or covariates) in a regression model? In this vignette, we
will provide multiple solutions to this question using a prototyping
approach.</p>
</div>
</div>
<div id="prototyping-methods" class="section level1">
<h1>Prototyping methods</h1>
<p>We have four methods to choose or create the representative record
from linked data included in <code>representr</code>. This process is a
function of the data and the linkage structure, and we present both
probabilistic and deterministic functions. The result in all cases is a
representative data set to be passed on to the downstream task. The
prototyping is completed using the <code>represent()</code>
function.</p>
<div id="random-prototyping" class="section level2">
<h2>Random Prototyping</h2>
<p>Our first proposal to choose a representative record
(<em>prototype</em>) for a cluster is the simplest and serves as a
baseline or benchmark. One simply chooses the representative record
uniformly at random or using a more informed distribution.</p>
<p>For demonstration purposes, we can create a representative dataset
using the last iteration of the results from running the record linkage
model using <code>blink</code>. This is accomplished using the
<code>represent()</code> function, and passing through the type of
prototyping to be <code>proto_random</code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># ids for representative records (random)</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>random_id <span class="ot">&lt;-</span> <span class="fu">represent</span>(rl_reg1, lambda, <span class="st">&quot;proto_random&quot;</span>, <span class="at">parallel =</span> <span class="cn">FALSE</span>)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>rep_random <span class="ot">&lt;-</span> rl_reg1[random_id,] <span class="co"># representative records (random)</span></span></code></pre></div>
<p>We can have a look at a few records chosen as representative in this
way.</p>
<table style="width:100%;">
<colgroup>
<col width="4%" />
<col width="11%" />
<col width="16%" />
<col width="3%" />
<col width="3%" />
<col width="5%" />
<col width="4%" />
<col width="38%" />
<col width="7%" />
<col width="4%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">fname</th>
<th align="left">lname</th>
<th align="right">bm</th>
<th align="right">bd</th>
<th align="right">by</th>
<th align="left">sex</th>
<th align="left">education</th>
<th align="right">income</th>
<th align="right">bp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">240</td>
<td align="left">callum</td>
<td align="left">lecke</td>
<td align="right">8</td>
<td align="right">5</td>
<td align="right">1981</td>
<td align="left">M</td>
<td align="left">Advanced degree</td>
<td align="right">86</td>
<td align="right">126</td>
</tr>
<tr class="even">
<td align="left">353</td>
<td align="left">lachlan</td>
<td align="left">ebert</td>
<td align="right">5</td>
<td align="right">15</td>
<td align="right">1954</td>
<td align="left">M</td>
<td align="left">Some college or associate degree</td>
<td align="right">42</td>
<td align="right">150</td>
</tr>
<tr class="odd">
<td align="left">161</td>
<td align="left">frankesco</td>
<td align="left">pedito</td>
<td align="right">6</td>
<td align="right">16</td>
<td align="right">1972</td>
<td align="left">M</td>
<td align="left">Bachelor’s degree only</td>
<td align="right">38</td>
<td align="right">151</td>
</tr>
<tr class="even">
<td align="left">6</td>
<td align="left">phoebe</td>
<td align="left">green</td>
<td align="right">8</td>
<td align="right">8</td>
<td align="right">1957</td>
<td align="left">F</td>
<td align="left">High school graduates, no college</td>
<td align="right">32</td>
<td align="right">128</td>
</tr>
<tr class="odd">
<td align="left">315</td>
<td align="left">peter</td>
<td align="left">chittleborough</td>
<td align="right">7</td>
<td align="right">11</td>
<td align="right">1980</td>
<td align="left">M</td>
<td align="left">High school graduates, no college</td>
<td align="right">36</td>
<td align="right">153</td>
</tr>
</tbody>
</table>
</div>
<div id="minimax-prototyping" class="section level2">
<h2>Minimax Prototyping</h2>
<p>Our second proposal to choose a representative record is to select
the record that “most closely captures” that of the latent entity. Of
course, this is quite subjective. We propose selecting the record whose
farthest neighbors within the cluster is closest, where closeness is
measured by a record distance function, <span class="math inline">\(d_r(\cdot)\)</span>. We can write this as the
record <span class="math inline">\(r = (i, j)\)</span> within each
cluster <span class="math inline">\(\Lambda_{j&#39;}\)</span> such that
<span class="math display">\[
r = \arg\min\limits_{(i, j) \in \Lambda_{j&#39;}} \max\limits_{(i^*,
j^*) \in \Lambda_{j&#39;}} d_r((i, j), (i^*, j^*)).
\]</span> The result is a set of representative records, one for each
latent individual, that is closest to the other records in each cluster.
When there is a tie within the cluster, we select a record uniformly at
random.</p>
<p>There are many distance functions that can be used for <span class="math inline">\(d_r(\cdot, \cdot)\)</span>. We define the distance
function to be a weighted average of individual variable-level distances
that depend on the column type. Given two records, <span class="math inline">\((i, j)\)</span> and <span class="math inline">\((i*, j*)\)</span>, we use a weighted average of
column-wise distances (based on the column type) to produce the
following single distance metric: <span class="math display">\[
d_r((i, j), (i*, j*)) = \sum\limits_{\ell = 1}^p w_\ell d_{r\ell}((i,
j), (i^*, j^*)),
\]</span> where <span class="math inline">\(\sum\limits_{\ell = 1}^p
w_\ell = 1\)</span>. The column-wise distance functions <span class="math inline">\(d_{r\ell}(\cdot, \cdot)\)</span> we use are
presented below.</p>
<table>
<colgroup>
<col width="16%" />
<col width="83%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Column</th>
<th><span class="math inline">\(d_{r\ell}(\cdot, \cdot)\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">String</td>
<td>Any string distance function, i.e. Jaro-Winkler string distance</td>
</tr>
<tr class="even">
<td align="left">Numeric</td>
<td>Absolute distance, <span class="math inline">\(d_{r\ell}((i, j),
(i^*, j^*)) = \mid x_{ij\ell} - x_{i^*j^*\ell} \mid\)</span></td>
</tr>
<tr class="odd">
<td align="left">Categorical</td>
<td>Binary distance, <span class="math inline">\(d_{r\ell}((i, j), (i^*,
j^*)) = \mathbb{I}(x_{ij\ell} != x_{i^*j^*\ell})\)</span></td>
</tr>
<tr class="even">
<td align="left">Ordinal</td>
<td>Absolute distance between levels. Let <span class="math inline">\(\gamma(x_{ij\ell})\)</span> be the order of the
value <span class="math inline">\(x_{ij\ell}\)</span>, then <span class="math inline">\(d_{r\ell}((i, j), (i^*, j^*)) = \mid
\gamma(x_{ij\ell}) - \gamma(x_{i^*j^*\ell}) \mid\)</span></td>
</tr>
</tbody>
</table>
<p>The weighting of variable distances is used to place importance on
individual features according to prior knowledge of the data set and to
scale the feature distances to a common range. In this vignette, we
scale all column-wise distances to be values between <span class="math inline">\(0\)</span> and <span class="math inline">\(1\)</span>.</p>
<p>Again, we can create a representative dataset using the last
iteration of the results from running the record linkage model using
<code>blink</code>. But this time we need to specify some more
parameters, like what types the columns are. This is accomplished using
the <code>represent()</code> function, and passing through the type of
prototyping to be <code>proto_minimax</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># additional parameters for minimax prototyping</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="co"># need column types, the order levels for any ordinal variables, and column weights</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>col_type <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;string&quot;</span>, <span class="st">&quot;string&quot;</span>, <span class="st">&quot;numeric&quot;</span>, <span class="st">&quot;numeric&quot;</span>, <span class="st">&quot;numeric&quot;</span>, <span class="st">&quot;categorical&quot;</span>, <span class="st">&quot;ordinal&quot;</span>, <span class="st">&quot;numeric&quot;</span>, <span class="st">&quot;numeric&quot;</span>)</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>orders <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">education =</span> <span class="fu">c</span>(<span class="st">&quot;Less than a high school diploma&quot;</span>, <span class="st">&quot;High school graduates, no college&quot;</span>, <span class="st">&quot;Some college or associate degree&quot;</span>, <span class="st">&quot;Bachelor&#39;s degree only&quot;</span>, <span class="st">&quot;Advanced degree&quot;</span>))</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>weights <span class="ot">&lt;-</span> <span class="fu">c</span>(.<span class="dv">25</span>, .<span class="dv">25</span>, .<span class="dv">05</span>, .<span class="dv">05</span>, .<span class="dv">1</span>, .<span class="dv">15</span>, .<span class="dv">05</span>, .<span class="dv">05</span>, .<span class="dv">05</span>)</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co"># ids for representative records (minimax)</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>minimax_id <span class="ot">&lt;-</span> <span class="fu">represent</span>(rl_reg1, linkage.rl[<span class="fu">nrow</span>(linkage.rl),], <span class="st">&quot;proto_minimax&quot;</span>,</span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>                        <span class="at">distance =</span> dist_col_type, <span class="at">col_type =</span> col_type, </span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>                        <span class="at">weights =</span> weights, <span class="at">orders =</span> orders, <span class="at">scale =</span> <span class="cn">TRUE</span>, <span class="at">parallel =</span> <span class="cn">FALSE</span>)</span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a>rep_minimax <span class="ot">&lt;-</span> rl_reg1[minimax_id,] <span class="co"># representative records (minimax)</span></span></code></pre></div>
<p>We can have a look at some of the representative records chosen via
minimax prototyping.</p>
<table>
<colgroup>
<col width="4%" />
<col width="10%" />
<col width="13%" />
<col width="3%" />
<col width="3%" />
<col width="6%" />
<col width="4%" />
<col width="39%" />
<col width="8%" />
<col width="4%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">fname</th>
<th align="left">lname</th>
<th align="right">bm</th>
<th align="right">bd</th>
<th align="right">by</th>
<th align="left">sex</th>
<th align="left">education</th>
<th align="right">income</th>
<th align="right">bp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">240</td>
<td align="left">callum</td>
<td align="left">lecke</td>
<td align="right">8</td>
<td align="right">5</td>
<td align="right">1981</td>
<td align="left">M</td>
<td align="left">Advanced degree</td>
<td align="right">86</td>
<td align="right">126</td>
</tr>
<tr class="even">
<td align="left">356</td>
<td align="left">marlee</td>
<td align="left">campbell</td>
<td align="right">4</td>
<td align="right">30</td>
<td align="right">1956</td>
<td align="left">F</td>
<td align="left">Some college or associate degree</td>
<td align="right">33</td>
<td align="right">127</td>
</tr>
<tr class="odd">
<td align="left">350</td>
<td align="left">bethany</td>
<td align="left">osseweijer</td>
<td align="right">4</td>
<td align="right">18</td>
<td align="right">1964</td>
<td align="left">F</td>
<td align="left">Advanced degree</td>
<td align="right">59</td>
<td align="right">102</td>
</tr>
<tr class="even">
<td align="left">95</td>
<td align="left">jayde</td>
<td align="left">melhado</td>
<td align="right">3</td>
<td align="right">24</td>
<td align="right">1975</td>
<td align="left">F</td>
<td align="left">Bachelor’s degree only</td>
<td align="right">45</td>
<td align="right">116</td>
</tr>
<tr class="odd">
<td align="left">179</td>
<td align="left">isabella</td>
<td align="left">petersen</td>
<td align="right">11</td>
<td align="right">10</td>
<td align="right">1967</td>
<td align="left">F</td>
<td align="left">Some college or associate degree</td>
<td align="right">34</td>
<td align="right">126</td>
</tr>
</tbody>
</table>
</div>
<div id="composite-records" class="section level2">
<h2>Composite Records</h2>
<p>Our third proposal to choose a representative record is by
aggregating the records (in each cluster) to form a composite record
that includes information from each linked record. The form of
aggregation can depend on the column type, and the aggregation itself
can be weighted by some prior knowledge of the data sources or use the
posterior information from the record linkage model. For quantitative
variables, we use a weighted arithmetic mean to combine linked values,
whereas for categorical variables, a weighted majority vote is used. For
string variables, we use a weighted majority vote for each character,
which allows for noisy strings to differ on a continuum. This is
accomplished using the <code>represent()</code> function, and passing
through the type of prototyping to be <code>composite</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># representative records (composite)</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>rep_composite <span class="ot">&lt;-</span> <span class="fu">represent</span>(rl_reg1, linkage.rl[<span class="fu">nrow</span>(linkage.rl),], <span class="st">&quot;composite&quot;</span>, <span class="at">col_type =</span> col_type, <span class="at">parallel =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>We can have a look at some of the representative records.</p>
<table style="width:100%;">
<colgroup>
<col width="4%" />
<col width="10%" />
<col width="16%" />
<col width="3%" />
<col width="5%" />
<col width="5%" />
<col width="4%" />
<col width="37%" />
<col width="7%" />
<col width="4%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">fname</th>
<th align="left">lname</th>
<th align="right">bm</th>
<th align="right">bd</th>
<th align="right">by</th>
<th align="left">sex</th>
<th align="left">education</th>
<th align="right">income</th>
<th align="right">bp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">240</td>
<td align="left">callum</td>
<td align="left">lecke</td>
<td align="right">8</td>
<td align="right">5.0</td>
<td align="right">1981</td>
<td align="left">M</td>
<td align="left">Advanced degree</td>
<td align="right">86.0</td>
<td align="right">126</td>
</tr>
<tr class="even">
<td align="left">353</td>
<td align="left">lachlan</td>
<td align="left">ebert</td>
<td align="right">5</td>
<td align="right">15.0</td>
<td align="right">1954</td>
<td align="left">M</td>
<td align="left">Some college or associate degree</td>
<td align="right">42.0</td>
<td align="right">150</td>
</tr>
<tr class="odd">
<td align="left">158</td>
<td align="left">francesco</td>
<td align="left">petito</td>
<td align="right">6</td>
<td align="right">16.4</td>
<td align="right">1972</td>
<td align="left">M</td>
<td align="left">High school graduates, no college</td>
<td align="right">52.6</td>
<td align="right">150</td>
</tr>
<tr class="even">
<td align="left">6</td>
<td align="left">phoebe</td>
<td align="left">green</td>
<td align="right">8</td>
<td align="right">8.0</td>
<td align="right">1957</td>
<td align="left">F</td>
<td align="left">High school graduates, no college</td>
<td align="right">32.0</td>
<td align="right">128</td>
</tr>
<tr class="odd">
<td align="left">315</td>
<td align="left">peter</td>
<td align="left">chittleborough</td>
<td align="right">7</td>
<td align="right">11.0</td>
<td align="right">1980</td>
<td align="left">M</td>
<td align="left">High school graduates, no college</td>
<td align="right">36.0</td>
<td align="right">153</td>
</tr>
</tbody>
</table>
</div>
<div id="posterior-prototyping" class="section level2">
<h2>Posterior Prototyping</h2>
<p>Our fourth proposal to choose a representative record utilizes the
minimax prototyping method in a fully Bayesian setting. This is
desirable as the posterior distribution of the linkage is used to weight
the downstream tasks, which allows the error from the record linkage
task to be naturally propagated into the downstream task.</p>
<p>We propose two methods for utilizing the posterior prototyping (PP)
weights — a weighted downstream task and a thresholded representative
data set based on the weights. As already mentioned, PP weights
naturally propagate the linkage error into the downstream task, which we
now explain. For each MCMC iteration from the Bayesian record linkage
model, we obtain the most representative records using minimax
prototyping and then compute the probability of each record being
selected over all MCMC iterations. The posterior prototyping (PP)
probabilities can then either be used as weights for each record in the
regression or as a thresholded variant where we only include records
whose PP weights are above <span class="math inline">\(0.5\)</span>.
Note that a record with PP weight above 0.5 has a posterior probability
greater than 0.5 of being chosen as a prototype and should be included
in the final data set.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># Posterior prototyping weights</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>pp_weights <span class="ot">&lt;-</span> <span class="fu">pp_weights</span>(rl_reg1, linkage.rl[<span class="fu">seq</span>(<span class="dv">80000</span>, <span class="dv">100000</span>, <span class="at">by =</span> <span class="dv">100</span>), ], </span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>                         <span class="st">&quot;proto_minimax&quot;</span>, <span class="at">distance =</span> dist_col_type, </span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>                         <span class="at">col_type =</span> col_type, <span class="at">weights =</span> weights, <span class="at">orders =</span> orders, </span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>                         <span class="at">scale =</span> <span class="cn">TRUE</span>, <span class="at">parallel =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>We can look at the minimax PP weights distribution for the true and
duplicated records in the data set as an example. Note that the true
records consistently have higher PP weights and the proportion of
duplicated records with high weights is relatively low.</p>
<div class="figure" style="text-align: center">
<img src="data:image/png;base64,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ZWXJ1Vdfbftt2rRJ3nrrLbn44oulRo0atj/8OnfuLE2aNLH9nBdI+9tvv5WaNWtKt27dpHXr1ur2jz/+KLNmzXIGVdfNmjWTU089tYK/HzwWL14sn3/+eVBRzjrrLJk3b56sWbPGvl+7dm1p06aN+oMnyrxixQrp3r27HQYXL7/8spx55plSp04dmTFjhqxevbrMfXwBE7ChI4FQBKiAQ9HhPd8SWLhwoRQVFflWPi8FGzNmjKD337ZtWzubqlWr2te4eO6552TEiBGye/duueWWW+x7aLTcd999QRVwv3795KuvvlLK5ZdffpH7779fHn/8cbnooovkiy++kIcffljdsxOzLjIyMpxffXWNRgiULNynn34qhYWFqvGB7yeccILik5+fL+3atYOXfPzxxzJz5kx56KGH5Prrr5fPPvtM0NArr4Bvv/12FQcKGIwDgYC0atVKpaH/HX300fqSnyTgSoAK2BUNb/iVAHo1b775pqxatUquvfZa+ec//6l6JS1btlQv0PXr18vQoUPlvffek4MPPlgpEF2Wv//973LSSSfJKaecorygyBD/m2++kXr16smVV15p39Nx/PjZu3dvGTBggKtozz//vDz22GNKmTgVsFuEbdu2yYsvvqh6c3Xr1lXBXnrpJRk2bJjN78gjj5SnnnrKLQnf+R9//PGCP7irrrpKmjdvLkOGDCkjJxoXl112me336quvyj333KMUsO0Z5uKKK64Q/NGRQLQEOAYcLTGGTzqB+vXry6GHHip5eXnStWtXQe/v/fffF/TgoEh37dolBQUFqvcyd+7cMvK+/vrrgt4zHHrQMMdCUZ9zzjkCMy5MkzAxmuxgKkZZoFjQO/vkk0/CFqd69eqqh/jMM8/Ixo0bVXjEB890clu3bg1qHUgnBixr4giwB5w41swpTgQwLnnMMccIzKToAWtXrVo1ZWrMzMzUXiE/YV7FPsVQMhgnve666wS96IEDB8qll17qa/MqzMHjxo2zy4fvZ5xxhvqO3q/ukaFHj17rySefbIcNdgFmMMHefPPNykSNsdCzzz5bBg0apBo6iAPLg9PsDT9YD9BoMdWNHDlSJk+erBoq69atE3CAXzTu7rvvVhyccebPn68aQU4/XpNAeQJUwOWJ8LuxBNCbjVT5opBff/21NGjQQB555BG7zJhQAxM2zNuNGjWy/f12cfnll8uFF15oi6UnVe3cuVPeeOMN1ZjA+OTmzZvlnXfeESgXlDWUa9++vWrAYOwUyvjJJ59UlgVwggNfp9KHn+kHR5x22mlqyAETrmCyf/vtt+1xYlhW9u3bh2KWcfv375fs7Gzb76abbpKePXva33EBCwQdCYQjwKckHCHeN4YAJsWUdzDBOt3evXvtrzA3woxdpcofIzFQuoMHDy7jZ0fw0QVM8B06VDyMACb2Fi1ayEEHHSSlpaVK6UKxYlJW+fFPZ3GgcGHGHz58uGAMGLOnL7jgAsHM4KVLl6qgMOvDQpBKDhOwTj/9dPWHmd/ozWMW+CGHHKLGjFeuXFmmuMXFxYLx8qZNm9r+aNikGhe7cLzwlAAVsKd4mbhXBCKZfZuTk6PGg7UM6LmgZ6vd4YcfriZtYWawVsK//vqrzJ49W03I0uFM+hw/frya9axN0JAdvWPM3EXDws1hFu+5554rxx57rOrNgQeWJKGn17hxY7doKeUPZpjch6GIqVOnqpnOWKYEE/X555+vxsbRS+7YsaOaY5BShWdhkkLgj6Z/UrJnpiQQGwH0zDB++/PPPwsUazCHXsn06dPVWDFmO0MJHThwQI33IXz//v2VQsayHPSGkV6fPn1UnPLLeoKl7ze/n376STD2eN5555URDRPMsBwJa1bh8B2mev03evRoNalt2rRpgvFM9ATRC77jjjtUr1ibUxFfx9Gfqdbzg9kdy49gSQADKGRYDmBdQa8Xk/pgpnY6zLDWPPQnONKRQDgCGZaJrqyNLlwM3icBHxBYsmSJWsuJsU28FLFmFctMsEZWO/ReMDaHMczc3Fy1FAUTt2BmxGQjuNdee031GLdv3y7oMWMDBbyEYcIN5aCsvToPONnjqpgdjrFPKOJ4OLDy6jzgRLHSzweeIzoSiBcBKuB4kWQ6SSGA8bhwigKTqrDMBuO9bg6Tr7AOONKebyorYDdGsfqnggKOteyMRwKhCHAMOBQd3vM9gXDKFwUI15tFGEy6oSMBEiCBRBLgGHAiaTMvEiABEiABEvgfASpgPgokQAIkQAIkkAQCHANOAnRmaT4BjGt65RI1scgr+cunS1blifA7CfxOgAqYTwIJkAAJkAAJJIEATdBJgM4sSYAESIAESIAKmM8ACZAACZAACSSBABVwEqAzSxIgARIgARKgAuYzQAIkQAIkQAJJIEAFnATozJIESIAESIAEqID5DJAACZAACZBAEghQAScBOrMkARIgARIgASpgPgMkQAIkQAIkkAQCVMBJgM4sSYAESIAESIAKmM8ACZAACZAACSSBABVwEqAzSxIgARIgARKgAuYzQAIkQAIkQAJJIEAFnATozJIESIAESIAEqID5DJAACZAACZBAEgj8Pw3aT0HtxYdmAAAAAElFTkSuQmCC" alt="The distribution of PP weights as generated from posterior draws of $\boldsymbol \Lambda$ colored by if they are true or duplicated records in the original data set. The dotted vertical line shows the threshold value of 0.5. The true records have consistently higher PP weights and the proportion of duplicated records with high weights is relatively low." />
<p class="caption">
The distribution of PP weights as generated from posterior draws of
<span class="math inline">\(\boldsymbol \Lambda\)</span> colored by if
they are true or duplicated records in the original data set. The dotted
vertical line shows the threshold value of 0.5. The true records have
consistently higher PP weights and the proportion of duplicated records
with high weights is relatively low.
</p>
</div>
<p>We can make a representative dataset with these weights by using the
cutoff of <span class="math inline">\(0.5\)</span>, and look at some of
the records.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># representative records (PP threshold)</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>rep_pp_thresh <span class="ot">&lt;-</span> rl_reg1[pp_weights <span class="sc">&gt;</span> .<span class="dv">5</span>, ]</span></code></pre></div>
<table style="width:100%;">
<colgroup>
<col width="10%" />
<col width="15%" />
<col width="3%" />
<col width="3%" />
<col width="6%" />
<col width="4%" />
<col width="41%" />
<col width="8%" />
<col width="4%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">fname</th>
<th align="left">lname</th>
<th align="right">bm</th>
<th align="right">bd</th>
<th align="right">by</th>
<th align="left">sex</th>
<th align="left">education</th>
<th align="right">income</th>
<th align="right">bp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">jasmine</td>
<td align="left">sirotic</td>
<td align="right">3</td>
<td align="right">31</td>
<td align="right">1972</td>
<td align="left">F</td>
<td align="left">High school graduates, no college</td>
<td align="right">32</td>
<td align="right">127</td>
</tr>
<tr class="even">
<td align="left">hugo</td>
<td align="left">white</td>
<td align="right">6</td>
<td align="right">9</td>
<td align="right">1958</td>
<td align="left">M</td>
<td align="left">Bachelor’s degree only</td>
<td align="right">72</td>
<td align="right">134</td>
</tr>
<tr class="odd">
<td align="left">madeline</td>
<td align="left">burgemeifter</td>
<td align="right">12</td>
<td align="right">9</td>
<td align="right">1967</td>
<td align="left">F</td>
<td align="left">Some college or associate degree</td>
<td align="right">30</td>
<td align="right">130</td>
</tr>
<tr class="even">
<td align="left">kyle</td>
<td align="left">clarke</td>
<td align="right">4</td>
<td align="right">9</td>
<td align="right">1952</td>
<td align="left">M</td>
<td align="left">Advanced degree</td>
<td align="right">90</td>
<td align="right">125</td>
</tr>
<tr class="odd">
<td align="left">livia</td>
<td align="left">braciak</td>
<td align="right">11</td>
<td align="right">6</td>
<td align="right">1950</td>
<td align="left">F</td>
<td align="left">High school graduates, no college</td>
<td align="right">27</td>
<td align="right">134</td>
</tr>
<tr class="even">
<td align="left">phoebe</td>
<td align="left">green</td>
<td align="right">8</td>
<td align="right">8</td>
<td align="right">1957</td>
<td align="left">F</td>
<td align="left">High school graduates, no college</td>
<td align="right">32</td>
<td align="right">128</td>
</tr>
</tbody>
</table>
<p>These four proposed methods each have potential benefits. The goal of
prototyping is to select the correct representations of latent entities
as often as possible; however, uniform random selection has no means to
achieve this goal. Turning to minimax selection, if a distance function
can accurately reflect the distance between pairs of records in the data
set, then this method may perform well. Alternatively, composite records
necessarily alter the data for all entities with multiple copies in the
data, affecting some downstream tasks (like linear regression) heavily.
The ability of posterior prototyping to propagate record linkage error
to the downstream task is an attractive feature and a great strength of
the Bayesian paradigm. In addition, the ability to use the entire
posterior distribution of the linkage structure also poses the potential
for superior downstream performance.</p>
</div>
</div>
<div id="evaluation" class="section level1">
<h1>Evaluation</h1>
<p>We can evaluate the performance of our methods by assessing the
distributional closeness of the representative dataset to the true
records. The distributional closeness of the representative datasets to
the true records is useful because one of the benefits of using a
two-stage approach to record linkage and downstream analyses is the
ability to perform multiple analyses with the same data set. As such,
downstream performance of representative records may be dependent on the
type of downstream task that is being performed. In order to assess the
distributional closeness of the representative data sets to the truth,
we use an empirical Kullback-Leibler (KL) divergence metric. Let <span class="math inline">\(\hat{F}_{rep}(\boldsymbol x)\)</span> and <span class="math inline">\(\hat{F}_{true}(\boldsymbol x)\)</span> be the
empirical distribution functions for the representative data set and
true data set, respectively (with continuous variables transformed to
categorical using a histogram approach with statistically equivalent
data-dependent bins). The empirical KL divergence metric we use is then
defined as <span class="math display">\[
\hat{D}_{KL}(\hat{F}_{rep} || \hat{F}_{true}) = \sum_{\boldsymbol x}
\hat{F}_{rep}(\boldsymbol x) \log\left(\frac{\hat{F}_{rep}(\boldsymbol
x)}{\hat{F}_{true}(\boldsymbol x)}\right).
\]</span></p>
<p>This metric is accessed in <code>representr</code> using the
<code>emp_kl_div()</code> command.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>true_dat <span class="ot">&lt;-</span> rl_reg1[<span class="fu">unique</span>(identity.rl_reg1),] <span class="co"># true records</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="fu">emp_kl_div</span>(true_dat, rep_random, <span class="fu">c</span>(<span class="st">&quot;sex&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;income&quot;</span>, <span class="st">&quot;bp&quot;</span>))</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="co">#&gt; [1] 0.01532769</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="fu">emp_kl_div</span>(true_dat, rep_minimax, <span class="fu">c</span>(<span class="st">&quot;sex&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;income&quot;</span>, <span class="st">&quot;bp&quot;</span>))</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="co">#&gt; [1] 0.01084999</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="fu">emp_kl_div</span>(true_dat, rep_composite, <span class="fu">c</span>(<span class="st">&quot;sex&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;income&quot;</span>, <span class="st">&quot;bp&quot;</span>))</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="co">#&gt; [1] 0.05639306</span></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="fu">emp_kl_div</span>(true_dat, rep_pp_thresh, <span class="fu">c</span>(<span class="st">&quot;sex&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;income&quot;</span>, <span class="st">&quot;bp&quot;</span>))</span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="co">#&gt; [1] 0.007088876</span></span></code></pre></div>
<p>The representative dataset based on the posterior prototyping weights
is the closest to the truth using the three variables we might be
interested in using for regression. This might indicate that we should
use this representation in a downstream model, like linear
regression.</p>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="unnumbered">References</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-binette2020almost" class="csl-entry">
Binette, Olivier, and Rebecca C Steorts. n.d. <span>“(Almost) All of
Entity Resolution.”</span> <em>arXiv Preprint arXiv:2008.04443</em>. <a href="https://arxiv.org/abs/2008.04443">https://arxiv.org/abs/2008.04443</a>.
</div>
<div id="ref-kaplan2018posterior" class="csl-entry">
Kaplan, Andee, Brenda Betancourt, and Rebecca C. Steorts. n.d.
<span>“Posterior Prototyping: Bridging the Gap Between Record Linkage
and Regression.”</span> <em>arXiv Preprint arXiv:1810.01538</em>. <a href="https://arxiv.org/abs/1810.01538">https://arxiv.org/abs/1810.01538</a>.
</div>
<div id="ref-dblinkR" class="csl-entry">
Marchant, Neil. 2021. <span>“dblinkR: R Interface for Dblink.”</span>
<em>R Package Version 0.2.0</em>. <a href="https://github.com/cleanzr/dblinkR">https://github.com/cleanzr/dblinkR</a>.
</div>
<div id="ref-marchant2020d" class="csl-entry">
Marchant, Neil G, Andee Kaplan, Daniel N Elazar, Benjamin IP Rubinstein,
and Rebecca C Steorts. 2020. <span>“D-Blink: Distributed End-to-End
Bayesian Entity Resolution.”</span> <em>Journal of Computational and
Graphical Statistics</em> just-accepted: 1–42.
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
